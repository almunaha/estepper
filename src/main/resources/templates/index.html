<!DOCTYPE html>

<html lang="es"
 xmlns:th="https://www.thymeleaf.org"
 xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" 
    rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/signin.css}">
    <link rel="icon" type="image/x-icon" th:href="@{/img/logo.png}"> 

    <link rel="stylesheet" th:href="@{/css/estilos.css}">
    <script src="https://kit.fontawesome.com/6dc9bb4522.js" crossorigin="anonymous"></script>


    <!--PARA GRÁFICOS-->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto">

    <title>Inicio</title>

    
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
   
    <div class="d-flex">
        <div id="sidebar-container">
           
            <div class="logo">
                <img src="../static/img/logo.png" width="75" th:src="@{img/logo.png}"/>
                <h4>Estepper</h4>
            </div>

            <div class="menu">
                <a th:href="@{/}" class="d-block text-light p-3"><i class="fa-solid fa-house"></i> Inicio</a>
                <a href="#" class="d-block text-light p-3"><i class="fa-solid fa-person-hiking"></i> Actividades</a>
                <a href="#" class="d-block text-light p-3"><i class="fa-solid fa-carrot"></i> Alimentación</a>
                <a href="#" class="d-block text-light p-3"><i class="fa-solid fa-folder-open"></i>  Materiales</a>
                <a href="#" class="d-block text-light p-3"><i class="fa-solid fa-chart-line"></i> Progreso</a>
                <a href="#" class="d-block text-light p-3"><i class="fa-solid fa-comments"></i> Foro</a>
            </div>

        </div>

       <div class="w-100">
        <nav class="navbar navbar-expand-lg navbar-light bg-light">

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <div class="burger"><a class="btn"><i class="fa-solid fa-bars"></i></a></div>
                
                <ul class="navbar-nav ml-auto">
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fa-solid fa-user"></i> <span sec:authentication="principal.nombre"></span>
                    </a>

                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                      <a class="dropdown-item" href="#">Mi perfil</a>
                      <div class="dropdown-divider"></div>
                      <form th:action="@{/logout}" method="post">
                        <button class = "dropdown-item" type="submit">Cerrar sesión</a>
                      </form>
                    </div>
                  </li>
                 
                </ul>
              </div>
          </nav>

          
          <div class="utilidades">
            <div class="row ">
           
              <div class="col">
                <!-- Botón sesiones -->
                <div class="layout-util">
                  <a class="btn-util" th:href="@{/}">
                      <i class="fa-solid fa-list-check"></i> 
                  </a> 

                  <h4 id="nombre">SESIONES</h4>
                  <!--  VER QUÉ PONER
                    <div class="progress ">
                    <div class="progress-bar" role="progressbar"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">1</div>
                  </div>
                  -->

                  <div class="chart1" id="chart1"></div>

                  <script>

                  var options = {
                    series: [1, 9],
                    chart: {
                    width: 420,
                    type: 'pie',
                  },
                  
                  labels: ['Sesiones completadas', 'Sesiones pendientes'],

                  /*responsive: [{
                    breakpoint: 480,
                    options: {
                      chart: {
                        width: 380
                      },
                      legend: {
                        position: 'bottom'
                      }s
                    }
                  }]*/

                  };

                 
                
                  var chart = new ApexCharts(document.querySelector("#chart1"), options);
                  chart.render();

                  </script>
                  
                </div>
              </div>

            
              <div class="col">
              <!-- Botón objetivos -->
                <div class="layout-util">
                  <a class="btn-util" th:href="@{/}">
                    <i class="fa-solid fa-bullseye"></i> 
                  </a> 
                  
                  <h4 id="nombre">OBJETIVOS</h4>

                  <div class="progress ">
                    <div class="progress-bar" role="progressbar"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">1</div>
                  </div>
                
                </div>
              </div>

              <div class="col">
                <!-- Botón progreso -->
                <div class="layout-util">
                  <a class="btn-util" th:href="@{/}">
                    <i class="fa-solid fa-chart-line"></i> 
                  </a> 
                  
                  <h4 id="nombre">PROGRESO</h4>

                  <div class="chart3" id="chart3"></div>
                  
                  <script>
                      var options = {
                      chart: {
                        height: 280,
                        type: "radialBar",
                      },

                      series: [67], //poner aquí el porcentaje, por ejmplo en función del número de sesión
                      colors: ["#20E647"],
                      plotOptions: {
                        radialBar: {
                          hollow: {
                            margin: 0,
                            size: "70%",
                            background: "#293450"
                          },
                          track: {
                            dropShadow: {//para el bordecito de fuera la sombrita
                              enabled: true,
                              top: 3,
                              left: 0,
                              blur: 4,
                              opacity: 0.20
                            }
                          },
                          dataLabels: { 
                            name: {//Para el nombre de dentro de progreso
                              offsetY: -10,
                              color: "#fff",
                              fontSize: "15px"
                            },
                            value: { //Para el porcentaje
                              color: "#fff",
                              fontSize: "35px",
                              show: true
                            }
                          }
                        }
                      },
                      fill: { //para el relleno
                        type: "gradient",
                        gradient: {
                          shade: "dark",
                          type: "vertical",
                          gradientToColors: ["#87d4f9"], //que vaya hacia ese azulito
                          stops: [0, 100]
                        }
                      },
                      stroke: {
                        lineCap: "round" //prolongación redondeada de la línea
                      },
                      labels: ["Progreso"] //el nombre de dentro
                    };

                    var chart = new ApexCharts(document.querySelector("#chart3"), options);

                    chart.render();

                  </script>
                </div>
            </div>

            </div>

          </div>


       </div>



    </div>
     
</body>
</html>





